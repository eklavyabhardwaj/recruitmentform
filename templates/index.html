<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- Responsive meta tag -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Candidate Application Form</title>
  <style>
    /* Global Reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    /* Global Styles */
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f2f5;
      color: #333;
      padding: 10px;
    }
    header {
      background-color: #273444;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 15px;
    }
    .header-content {
      display: flex;
      align-items: center;
      justify-content: start;
      gap: 20px;
    }
    .header-content h1 {
      color: #fff;
      font-size: 24px;
      margin: 0;
    }
    /* Increase the logo size */
    .header-logo {
      max-height: 80px; /* Increased from 60px to 80px */
      width: auto;
    }
    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    fieldset {
      border: 1px solid #ccc;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 6px;
    }
    legend {
      font-size: 18px;
      font-weight: 600;
      color: #444;
      padding: 0 10px;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: 600;
      color: #444;
    }
    input, textarea, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }
    input:focus, textarea:focus, select:focus {
      border-color: #66afe9;
      outline: none;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 10px;
    }
    .col-6 {
      flex: 1 1 48%;
    }
    /* Table Container */
    .table-responsive {
      width: 100%;
      overflow-x: auto;
      margin: 15px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
      -webkit-overflow-scrolling: touch;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
      vertical-align: middle;
    }
    th {
      background-color: #f7f7f7;
      font-weight: 600;
    }
    tbody tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    button {
      padding: 10px 20px;
      background: #00c0c0;
      border: none;
      color: #fff;
      cursor: pointer;
      margin-top: 15px;
      border-radius: 4px;
      font-size: 14px;
      transition: background 0.3s;
    }
    button:hover {
      background: #00e0e0;
    }
    .terms-container {
      margin-top: 15px;
    }
    .terms-container a {
      color: #00c0c0;
      text-decoration: none;
      cursor: pointer;
    }
    .terms-container a:hover {
      text-decoration: underline;
    }
    /* Align checkbox & text on the same line */
    .confirm-container {
      margin-top: 5px;
      display: flex;
      align-items: center;
    }
    /* Responsive adjustments */
    @media (max-width: 600px) {
      .row {
        flex-direction: column;
      }
      .col-6 {
        flex: 1 1 100%;
      }
      header h1 {
        font-size: 20px;
      }
      .container {
        padding: 15px;
      }
      .table-responsive table,
      .table-responsive thead,
      .table-responsive tbody,
      .table-responsive th,
      .table-responsive td,
      .table-responsive tr {
        display: block;
      }
      .table-responsive thead tr {
        position: absolute;
        top: -9999px;
        left: -9999px;
      }
      .table-responsive tr {
        border: 1px solid #ccc;
        margin-bottom: 10px;
        border-radius: 4px;
        padding: 10px;
      }
      .table-responsive td {
        border: none;
        border-bottom: 1px solid #eee;
        position: relative;
        padding-left: 50%;
        white-space: normal;
        text-align: left;
      }
      .table-responsive td:before {
        position: absolute;
        top: 8px;
        left: 10px;
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
        font-weight: bold;
        content: attr(data-label);
      }
    }
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.5);
    }
    .modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 20px;
      border: 1px solid #888;
      max-width: 600px;
      border-radius: 5px;
    }
    .modal-content h2 {
      margin-top: 0;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover, .close:focus {
      color: #000;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <!-- Header with clickable logo on the left -->
  <header>
    <div class="header-content">
      <a href="https://www.electrolabgroup.com/" target="_blank" rel="noopener noreferrer">
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Electrolab Logo" class="header-logo">
      </a>
      <h1>Candidate Application Form</h1>
    </div>
  </header>

  <div class="container">
    <form action="{{ url_for('submit') }}" method="POST" enctype="multipart/form-data">
      <!-- Personal & Job Details -->
      <fieldset>
        <legend>Personal & Job Details</legend>
        <div class="row">
          <div class="col-6">
            <label>Applicant Name*</label>
            <input type="text" name="applicant_name" required>
          </div>
          <div class="col-6">
            <label>Email*</label>
            <input type="email" name="email_id" required>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <label>Phone Number*</label>
            <input type="text" name="phone_number" required>
          </div>
          <div class="col-6">
            <label>Country</label>
            <input type="text" name="country" value="India" readonly>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <label>Job Title*</label>
            <input type="text" name="job_title" value="{{ job_title }}" readonly required>
          </div>
          <div class="col-6">
            <label>Designation*</label>
            <input type="text" name="designation" value="{{ designation }}" readonly required>
          </div>
        </div>
        <input type="hidden" name="status" value="Open">
        <div class="row">
          <div class="col-6">
            <label>Source*</label>
            <select name="source" required>
              <option value="">Select Source</option>
              <option value="Employee">Employee</option>
              <option value="Linkedin">Linkedin</option>
              <option value="Indeed Site">Indeed Site</option>
              <option value="Naukari Site">Naukari Site</option>
              <option value="Campaign">Campaign</option>
              <option value="Employee Referral">Employee Referral</option>
              <option value="Walk In">Walk In</option>
              <option value="Website Listing">Website Listing</option>
            </select>
          </div>
          <div class="col-6">
            <label>Cover Letter*</label>
            <textarea name="cover_letter" rows="4" required></textarea>
          </div>
        </div>
      </fieldset>
      <!-- Resume & Attachments -->
      <fieldset>
        <legend>Resume & Attachments</legend>
        <div class="row">
          <div class="col-6">
            <label>Resume Attachment (PDF)*</label>
            <input type="file" name="resume_attachment" accept=".pdf" required>
          </div>
          <div class="col-6">
            <label>Resume Link</label>
            <input type="text" name="resume_link">
          </div>
        </div>
      </fieldset>
      <!-- Academic Details -->
      <fieldset>
        <legend>Academic Details</legend>
        <div class="table-responsive">
          <table id="academicTable">
            <thead>
              <tr>
                <th>School/University</th>
                <th>Qualification</th>
                <th>Level</th>
                <th>Year of Passing</th>
                <th>% / Marks / Grade</th>
                <th>Major Subjects</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="School/University"><input type="text" name="school_univ[]" placeholder="Institute"></td>
                <td data-label="Qualification"><input type="text" name="qualification[]" placeholder="Qualification"></td>
                <td data-label="Level">
                  <select name="level[]">
                    <option value="Graduate">Graduate</option>
                    <option value="Post Graduate">Post Graduate</option>
                    <option value="Under Graduate">Under Graduate</option>
                  </select>
                </td>
                <td data-label="Year of Passing"><input type="number" name="year_of_passing[]" placeholder="Year" maxlength="4"></td>
                <td data-label="% / Marks / Grade"><input type="number" name="class_per[]" placeholder="%" step="0.01"></td>
                <td data-label="Major Subjects"><input type="text" name="maj_opt_subj[]" placeholder="Major Subjects"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <button type="button" onclick="addDegreeRow()">Add Another Degree</button>
      </fieldset>
      <!-- Previous Work Experience -->
      <fieldset>
        <legend>Previous Work Experience</legend>
        <div class="table-responsive">
          <table id="ExperienceTable">
            <thead>
              <tr>
                <th>Company</th>
                <th>Designation</th>
                <th>Salary</th>
                <th>Address</th>
                <th>Contact</th>
                <th>From</th>
                <th>To</th>
                <th>Total Exp</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Company"><input type="text" name="company_name[]" placeholder="Company Name"></td>
                <td data-label="Designation"><input type="text" name="designation[]" placeholder="Designation"></td>
                <td data-label="Salary"><input type="number" name="salary[]" placeholder="Salary" maxlength="8"></td>
                <td data-label="Address"><input type="text" name="address[]" placeholder="Address"></td>
                <td data-label="Contact"><input type="number" name="contact[]" placeholder="Contact" maxlength="13"></td>
                <td data-label="From"><input type="date" name="custom_from[]"></td>
                <td data-label="To"><input type="date" name="custom_to[]"></td>
                <td data-label="Total Exp"><input type="text" name="total_experience[]" placeholder="Total Exp"></td>
              </tr>
            </tbody>
          </table>
        </div>
        <button type="button" onclick="addExperienceRow()">Add More Experience</button>
      </fieldset>
      <!-- Salary Expectation -->
      <fieldset>
        <legend>Salary Expectation</legend>
        <div class="row">
          <div class="col-6">
            <label>Lower Range*</label>
            <input type="text" name="lower_range" required>
          </div>
          <div class="col-6">
            <label>Upper Range*</label>
            <input type="text" name="upper_range" required>
          </div>
        </div>
      </fieldset>

      <!-- Terms & Submit -->
      <div class="terms-container">
        <!-- Combine checkbox + link into one label for better alignment -->
        <div class="confirm-container"><label><input type="checkbox" id="enableSubmit" onclick="toggleButton()"></label>
          <label style="margin-left: 10px;">

             I agree to the <a id="tncLink">Terms and Conditions</a>
          </label>


        </div>

      </div>

      <button id="submitButton" disabled>Submit Application</button>
    </form>
  </div>

  <!-- Terms and Conditions Modal -->
  <div id="tncModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Terms and Conditions for Application</h2>
      <p>
        By submitting this application, you confirm that all the information provided in this form is accurate and complete to the best of your knowledge. Any false or misleading information may result in the rejection of your application or termination of employment if discovered after hiring.
      </p>
      <p>
        You consent to the collection, processing, and storage of your personal data for recruitment purposes in accordance with applicable data protection laws. This includes your personal details, educational background, work experience, and any additional information submitted with your application.
      </p>
      <p>
        You agree to undergo background verifications, including reference checks, as part of our recruitment process. Your application and supporting documents may be shared internally with relevant departments for evaluation.
      </p>
      <p>
        By clicking “I Agree,” you acknowledge that you have read, understood, and accepted these terms and conditions.
      </p>
      <button id="agreeBtn">I Agree</button>
    </div>
  </div>

  <script>
    // Modal functionality for Terms and Conditions
    const modal = document.getElementById('tncModal');
    const tncLink = document.getElementById('tncLink');
    const closeModal = document.getElementsByClassName('close')[0];
    const agreeBtn = document.getElementById('agreeBtn');

    tncLink.onclick = function(event) {
      event.preventDefault();
      modal.style.display = 'block';
    }
    closeModal.onclick = function() {
      modal.style.display = 'none';
    }
    agreeBtn.onclick = function() {
      modal.style.display = 'none';
      document.getElementById('enableSubmit').checked = true;
      toggleButton();
    }
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    }

    function toggleButton() {
      const checkbox = document.getElementById('enableSubmit');
      const submitButton = document.getElementById('submitButton');
      submitButton.disabled = !checkbox.checked;
    }

    function addDegreeRow() {
      const table = document.getElementById('academicTable').querySelector('tbody');
      const newRow = document.createElement('tr');
      newRow.innerHTML = `
        <td data-label="School/University"><input type="text" name="school_univ[]" placeholder="Institute"></td>
        <td data-label="Qualification"><input type="text" name="qualification[]" placeholder="Qualification"></td>
        <td data-label="Level">
          <select name="level[]">
            <option value="Graduate">Graduate</option>
            <option value="Post Graduate">Post Graduate</option>
            <option value="Under Graduate">Under Graduate</option>
          </select>
        </td>
        <td data-label="Year of Passing"><input type="number" name="year_of_passing[]" placeholder="Year" maxlength="4"></td>
        <td data-label="% / Marks / Grade"><input type="number" name="class_per[]" placeholder="%" step="0.01"></td>
        <td data-label="Major Subjects"><input type="text" name="maj_opt_subj[]" placeholder="Major Subjects"></td>
      `;
      table.appendChild(newRow);
    }

    function addExperienceRow() {
      const table = document.getElementById('ExperienceTable').querySelector('tbody');
      const newRow = document.createElement('tr');
      newRow.innerHTML = `
        <td data-label="Company"><input type="text" name="company_name[]" placeholder="Company Name"></td>
        <td data-label="Designation"><input type="text" name="designation[]" placeholder="Designation"></td>
        <td data-label="Salary"><input type="number" name="salary[]" placeholder="Salary" maxlength="8"></td>
        <td data-label="Address"><input type="text" name="address[]" placeholder="Address"></td>
        <td data-label="Contact"><input type="number" name="contact[]" placeholder="Contact" maxlength="13"></td>
        <td data-label="From"><input type="date" name="custom_from[]"></td>
        <td data-label="To"><input type="date" name="custom_to[]"></td>
        <td data-label="Total Exp"><input type="text" name="total_experience[]" placeholder="Total Exp"></td>
      `;
      table.appendChild(newRow);
    }
  </script>
</body>
</html>
